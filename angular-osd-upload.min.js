!function(){angular.module("osdUpload",["angularFileUpload"])}(),function(){"use strict";function e(){var e=this,o={uploadUrl:"/api/v1/uploads",maxSize:1e8,supportedFileTypes:["png","pdf","jpeg","jpg","mp4"]};return e.config=function(t){return o=t,e},e.$get=function(){return o},e}angular.module("osdUpload");angular.module("osdUpload").provider("UploadConfig",e)}(),function(){angular.module("osdUpload").constant("UPLOAD",{ERROR:{FILE_TYPE:0,SIZE:1}})}(),function(){function e(e,o,t){o.onFileSelect=function(n){t.post(n[0],data).then(function(t){e.$emit("osdUploadSuccess",t),o.progress=0},function(t){e.$emit("osdUploadError",t),o.progress=0},function(e){o.progress=parseInt(100*e.loaded/e.total)})},e.$on("osdUploadSizeExceeded",function(){o.maxSizeExceeded=!0})}function o(){return{restrict:"E",replace:!0,scope:{data:"="},templateUrl:"/templates/image-upload.html",controller:"ImageUploadCtrl"}}e.$inject=["$rootScope","$scope","Upload"],angular.module("osdUpload").controller("ImageUploadCtrl",e).directive("imageUpload",o)}(),function(){function e(e,o,t,n){function r(e){return e.size>t.maxSize}function a(e){var o=t.supportedFileTypes.join("|"),n=new RegExp(o,"g");return n.test(e.type)}var l=this;return l.post=function(l,i){var p=e.defer();if(r(l))return p.reject({type:n.ERROR.SIZE,message:"File size exceeded."}),p.promise;if(!a(l))return p.reject({type:n.ERROR.FILE_TYPE,message:"File type not supported."}),p.promise;var u={url:t.uploadUrl,file:l,data:i,fileName:"file"};return o.upload(u).progress(function(e){p.notify(e)}).success(function(e){p.resolve(e)}).error(function(e){p.reject(e)}),p.promise},l}e.$inject=["$q","$upload","UploadConfig","UPLOAD"],angular.module("osdUpload").factory("Upload",e)}();