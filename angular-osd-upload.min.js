!function(){angular.module("osdUpload",["angularFileUpload"])}(),function(){"use strict";function o(){var o=this,e={uploadUrl:"/api/v1/uploads",maxSize:1e8,supportedFileTypes:["png","pdf","jpeg","jpg","mp4"]};return o.config=function(t){return e=t,o},o.$get=function(){return e},o}angular.module("osdUpload");angular.module("osdUpload").provider("UploadConfig",o)}(),function(){function o(o,e,t){e.onFileSelect=function(n){t.post(n[0],data).then(function(t){o.$emit("osdUploadSuccess",t),e.progress=0},function(t){o.$emit("osdUploadError",t),e.progress=0},function(o){e.progress=parseInt(100*o.loaded/o.total)})},o.$on("osdUploadSizeExceeded",function(){e.maxSizeExceeded=!0})}function e(){return{restrict:"E",replace:!0,scope:{data:"="},templateUrl:"/templates/image-upload.html",controller:"ImageUploadCtrl"}}o.$inject=["$rootScope","$scope","Upload"],angular.module("osdUpload").controller("ImageUploadCtrl",o).directive("imageUpload",e)}(),function(){function o(o,e,t,n){function r(o){return o.size>n.maxSize}function a(o){var e=n.supportedFileTypes.join("|"),t=new RegExp(e,"g");return t.test(o.type)}var d=this;return d.post=function(d,l){if(r(d))return o.$broadcast("osdUploadSizeExceeded",d),void 0;if(!a(d))return o.$broadcast("osdUploadUnsupportedType",d),void 0;var i={url:n.uploadUrl,file:d,data:l,fileName:"file"},p=e.defer();return t.upload(i).progress(function(o){p.notify(o)}).success(function(o){p.resolve(o)}).error(function(o){p.reject(o)}),p.promise},d}o.$inject=["$rootScope","$q","$upload","UploadConfig"],angular.module("osdUpload").factory("Upload",o)}();